{"version":3,"sources":["AuthService.js","Login.js","component/form.js","component/navbar.js","App.js","reportWebVitals.js","index.js"],"names":["AuthService","auth_api_url","this","username","password","a","fetch","method","body","JSON","stringify","res","json","includes","parseInt","status","Error","msg","setToken","token","getToken","localStorage","setItem","getItem","removeItem","url","options","headers","loggedIn","Login","props","useState","setUsername","setPassword","onChange","event","target","value","name","type","placeholder","onClick","login","App","bilds","artwalks","setArtwalks","artwalk","setArtwalk","handleChange","e","prevInput","useEffect","then","ok","jsonRes","className","style","marginTop","id","preventDefault","newArtwalk","axios","post","map","_id","delete","Navbar","margin","to","path","component","Form","API_URL","authService","requestCount","setRequestCount","resp","console","log","response","data","getData","contents","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fb48eaf.chunk.js","sourcesContent":["/**\n * Service class for authenticating users against an API\n * and storing JSON Web Tokens in the browser's LocalStorage.\n */\nclass AuthService {\n  constructor(auth_api_url) {\n    this.auth_api_url = auth_api_url;\n  }\n\n  async login(username, password) {\n    const res = await this.fetch(this.auth_api_url, {\n      method: 'POST',\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    let json = await res.json();\n    if ([401, 404].includes(parseInt(res.status))) {\n      throw Error(json.msg);\n    }\n    this.setToken(json.token);\n    return json;\n  }\n\n  loggedIn() {\n    // TODO: Check if token is expired using 'jwt-decode'\n    // TODO: Install using 'npm install jwt-decode'\n    /*\n    if (jwtDecode(token).exp < Date.now() / 1000) {\n        // Do something to renew token\n    }\n     */\n    return (this.getToken() !== null);\n  }\n\n  setToken(token) {\n    localStorage.setItem(\"token\", token);\n  }\n\n  getToken() {\n    return localStorage.getItem(\"token\");\n  }\n\n  logout() {\n    localStorage.removeItem(\"token\");\n  }\n\n  fetch(url, options) {\n    const headers = {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n    };\n\n    if (this.loggedIn()) {\n      headers[\"Authorization\"] = `Bearer ${this.getToken()}`\n    }\n\n    return fetch(url, {\n      headers,\n      ...options\n    });\n  }\n}\n\nexport default AuthService;\n","import { useState } from 'react';\n\nfunction Login(props) {\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleLogin() {\n    props.login(username, password);\n  }\n  \n  return (\n    <>\n      <h3>Login</h3>\n      <input onChange={(event) => setUsername(event.target.value)}\n        name=\"username\" type=\"text\" placeholder=\"username\"></input><br />\n      <input onChange={(event) => setPassword(event.target.value)}\n        name=\"password\" type=\"password\" placeholder=\"password\"></input><br />\n      <button onClick={handleLogin}>Login</button>\n    </>\n  );\n}\n\nexport default Login;\n","import React, {useState, useEffect} from 'react';\nimport axios from \"axios\";\n\n//import Logo from \"./logo/Logo\";\n\n//import './App.css';\n\nfunction App() {\n  const [artwalks, setArtwalks] = useState([\n    {\n      name: '',\n      bilds: ''\n    }\n  ])\n\n  const [artwalk, setArtwalk] = useState(\n    {\n      name: '',\n      bilds: ''\n    }\n  )\n\n  useEffect(() => {\n    fetch('/artwalks').then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n    }).then(jsonRes => setArtwalks(jsonRes))\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setArtwalk(prevInput => {\n      return(\n        {\n          ...prevInput,\n          [name]: value\n        }\n      )\n    })\n  }\n\n  function addArtwalk(e) {\n    e.preventDefault();\n    const newArtwalk = {\n      name: artwalk.name,\n      bilds: artwalk.bilds\n    }\n\n    axios.post('/newartwalk', newArtwalk);\n  }\n\n  function deleteArtwalk(id) {\n    axios.delete('/delete/' + id);\n  }\n\n  return (\n    <div className=\"App\" style={{ marginTop: 20 }}>\n      <h3>Create Artwalk</h3>\n      <form className=\"formPost\">\n      <label>ArtWalk: </label>\n      <li><input id=\"Name\" onChange={handleChange} name=\"name\" value={artwalk.name}></input></li>\n      <label>Bilder: </label>\n      <li><input id=\"Bilds\" onChange={handleChange} name=\"bilds\" value={artwalk.bilds}></input></li>\n      <li><button  className=\"btn btn-primary\" onClick={addArtwalk}>Add artwalk</button></li>\n      </form>\n    <hr />\n      <h3>Liste der Artwalks</h3>\n      {artwalks.map(artwalk => {\n        return (\n          <div className=\"formPost\">\n            <h4 className=\"h1Title\">{artwalk.name}</h4>\n            <p className=\"pDescription\">{artwalk.bilds}</p>\n            <button onClick={() => deleteArtwalk(artwalk._id)}>Delete</button>\n          </div>\n        ) \n      })}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport Form from \"./form\";\n//import Home from \"../App\";\n\n// Here, we display our Navbar\nconst Navbar = () => {\n  return (\n      <nav>\n      <Link style={{margin: 8}} to=\"/\">Home</Link>\n          <Link to={\"/form\"} className=\"navbar-brand\">\n            Create ArtWalk\n          </Link>\n          <div className=\"container mt-3\">\n          <Switch>\n            <Route path=\"/form\" component={Form} />\n          </Switch>\n        </div>\n      </nav>\n  );\n};\n\nexport default Navbar;","import { useState, useEffect } from \"react\";\nimport AuthService from \"./AuthService\";\nimport Login from \"./Login\";\nimport Navbar from \"./component/navbar\";\n//import React, { BrowserRouter as Router } from 'react-router-dom';\n\nconst API_URL = \"http://localhost:8080/api\";\n\nconst authService = new AuthService(`${API_URL}/users/authenticate`);\n\nfunction App() {\n  const [artwalks, setArtwalks] = useState([]);\n  const [requestCount, setRequestCount] = useState(0);\n\n  useEffect(() => {\n    async function getData() {\n      const url = `${API_URL}/artwalks`;\n      const response = await authService.fetch(url);\n      const data = await response.json();\n      setArtwalks(data);\n    }\n    getData();\n  }, [requestCount]);\n\n  async function login(username, password) {\n    try {\n      const resp = await authService.login(username, password);\n      console.log(\"Authentication:\", resp.msg);\n      setRequestCount(requestCount + 1);\n    } catch (e) {\n      console.log(\"Login\", e);\n    }\n  }\n\n  let contents = <p>No artwalks!</p>;\n  if (artwalks.length > 0) {\n    contents = \n    <>\n      <Navbar />\n      <hr />\n    </>\n  }\n\n  return (\n    <>\n      <h1>Artwalks</h1>\n      {contents}\n      <Login login={login} />\n      {authService.loggedIn() ? <pre>User is logged in</pre> : <pre>User is not logged in</pre>}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n//import 'bootstrap/dist/css/bootstrap.css';\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}