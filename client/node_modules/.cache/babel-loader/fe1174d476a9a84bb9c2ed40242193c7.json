{"ast":null,"code":"import _regeneratorRuntime from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useHistory}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ForgotPasswordPage=function ForgotPasswordPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),emailValue=_useState6[0],setEmailValue=_useState6[1];var history=useHistory();var onSubmitClicked=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put(\"/api/forgot-password/\".concat(emailValue));case 3:setSuccess(true);setTimeout(function(){history.push(\"/reset-password?email=\".concat(encodeURIComponent(emailValue)));},3000);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setErrorMessage(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function onSubmitClicked(){return _ref.apply(this,arguments);};}();return success?/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Check your email for a reset link\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Forgot your Password\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Enter your email for a reset link\"}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"fail\",children:errorMessage}),/*#__PURE__*/_jsx(\"input\",{value:emailValue,onChange:function onChange(e){return setEmailValue(e.target.value);},placeholder:\"example@gmail.com\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{disabled:!emailValue,onClick:onSubmitClicked,children:\"Send Reset Link\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.push('/login');},children:\"Back to Log In\"})})]})]});};","map":{"version":3,"sources":["/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/src/pages/ForgotPasswordPage.js"],"names":["useState","useHistory","axios","ForgotPasswordPage","errorMessage","setErrorMessage","success","setSuccess","emailValue","setEmailValue","history","onSubmitClicked","put","setTimeout","push","encodeURIComponent","message","e","target","value"],"mappings":"ugBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,eACIH,QAAQ,CAAC,EAAD,CADZ,wCAC7BI,YAD6B,eACfC,eADe,8BAENL,QAAQ,CAAC,KAAD,CAFF,yCAE7BM,OAF6B,eAEpBC,UAFoB,8BAGAP,QAAQ,CAAC,EAAD,CAHR,yCAG7BQ,UAH6B,eAGjBC,aAHiB,eAIpC,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CAEA,GAAMU,CAAAA,eAAe,0FAAG,yKAEVT,CAAAA,KAAK,CAACU,GAAN,gCAAkCJ,UAAlC,EAFU,QAGhBD,UAAU,CAAC,IAAD,CAAV,CACAM,UAAU,CAAC,UAAM,CACbH,OAAO,CAACI,IAAR,iCAAsCC,kBAAkB,CAACP,UAAD,CAAxD,GACH,CAFS,CAEP,IAFO,CAAV,CAJgB,+EAQhBH,eAAe,CAAC,YAAEW,OAAH,CAAf,CARgB,oEAAH,kBAAfL,CAAAA,eAAe,0CAArB,CAYA,MAAOL,CAAAA,OAAO,cACV,aAAK,SAAS,CAAC,mBAAf,wBACI,+BADJ,cAEI,wDAFJ,GADU,cAMV,aAAK,SAAS,CAAC,mBAAf,wBACI,4CADJ,cAEI,oCACA,wDADA,CAECF,YAAY,eAAI,YAAK,SAAS,CAAC,MAAf,UAAuBA,YAAvB,EAFjB,cAGA,cACI,KAAK,CAAEI,UADX,CAEI,QAAQ,CAAE,kBAAAS,CAAC,QAAIR,CAAAA,aAAa,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAFf,CAGI,WAAW,CAAC,mBAHhB,EAHA,cAOA,iCAAI,eAAQ,QAAQ,CAAE,CAACX,UAAnB,CAA+B,OAAO,CAAEG,eAAxC,6BAAJ,EAPA,cAQA,iCAAI,eAAQ,OAAO,CAAE,yBAAMD,CAAAA,OAAO,CAACI,IAAR,CAAa,QAAb,CAAN,EAAjB,4BAAJ,EARA,GAFJ,GANJ,CAoBH,CAtCM","sourcesContent":["import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nexport const ForgotPasswordPage = () => {\n    const [errorMessage, setErrorMessage] = useState('');\n    const [success, setSuccess] = useState(false);\n    const [emailValue, setEmailValue] = useState('');\n    const history = useHistory();\n\n    const onSubmitClicked = async () => {\n        try {\n            await axios.put(`/api/forgot-password/${emailValue}`);\n            setSuccess(true);\n            setTimeout(() => {\n                history.push(`/reset-password?email=${encodeURIComponent(emailValue)}`);\n            }, 3000);\n        } catch (e) {\n            setErrorMessage(e.message);\n        }\n    }\n\n    return success ? (\n        <div className=\"content-container\">\n            <h3>Success</h3>\n            <p>Check your email for a reset link</p>\n        </div>\n    ) : (\n        <div className=\"content-container\">\n            <h3>Forgot your Password</h3>\n            <div>\n            <p>Enter your email for a reset link</p>\n            {errorMessage && <div className=\"fail\">{errorMessage}</div>}\n            <input\n                value={emailValue}\n                onChange={e => setEmailValue(e.target.value)}\n                placeholder=\"example@gmail.com\" />\n            <li><button disabled={!emailValue} onClick={onSubmitClicked}>Send Reset Link</button></li>\n            <li><button onClick={() => history.push('/login')}>Back to Log In</button></li>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}