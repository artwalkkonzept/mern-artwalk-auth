(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{38:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(32),s=n.n(r),i=(n(38),n(8)),o=n(4),u=n(3),j=n.n(u),l=n(6),b=n(2),O=n(7),d=n.n(O),h=n(0),p=function(){var e=Object(o.g)();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Success!"}),Object(h.jsx)("p",{children:"Thanks for verifying your email, now you can use all the app's features."}),Object(h.jsx)("button",{onClick:function(){return e.push("/")},children:"Go to home page"})]})},f=function(){var e=Object(o.g)();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Uh oh..."}),Object(h.jsx)("p",{children:"Something went wrong while trying to verify your email."}),Object(h.jsx)("button",{onClick:function(){return e.push("/signup")},children:"Back to Sign-up"})]})},x=function(){var e=Object(c.useState)((function(){return localStorage.getItem("token")})),t=Object(b.a)(e,2),n=t[0],a=t[1];return[n,function(e){localStorage.setItem("token",e),a(e)}]},v=n(19),g=n(16),m=n(17),w=function(e){return function(e){return e.reduce((function(e,t,n){if(n%2===0)return[].concat(Object(m.a)(e),[[t]]);var c=e[e.length-1],a=e.slice(0,e.length-1);return[].concat(Object(m.a)(a),[[].concat(Object(m.a)(c),[t])])}),[])[0]||[]}(e).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},t[0],t[1]))}),{})},k=function(){var e=Object(o.h)(),t=new URLSearchParams(e.search);return w(Object(m.a)(t.entries()))},S=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),O=Object(b.a)(u,2),v=O[0],g=O[1],m=k().email,w=x(),S=Object(b.a)(w,2)[1],y=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/verify-email",{email:m,verificationString:v});case 3:t=e.sent,n=t.data.token,S(n),a(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return n?Object(h.jsx)(p,{}):i?Object(h.jsx)(f,{}):Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Please Verify Your Email"}),Object(h.jsx)("p",{children:"You should have received a verification code at the email address you provided. Please enter it here:"}),Object(h.jsx)("input",{placeholder:"e.g. 123456",value:v,onChange:function(e){return g(e.target.value)}}),Object(h.jsx)("button",{onClick:y,children:"Submit"})]})},y=function(){var e=Object(c.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],u=s[1],O=Object(o.i)().verificationString,v=x(),g=Object(b.a)(v,2)[1];return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/verify-email",{verificationString:O});case 3:t=e.sent,n=t.data.token,g(n),u(!0),a(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u(!1),a(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[g,O]),n?Object(h.jsx)("p",{children:"Loading..."}):i?Object(h.jsx)(p,{}):Object(h.jsx)(f,{})},C=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],u=s[1],O=Object(c.useState)(""),p=Object(b.a)(O,2),f=p[0],x=p[1],v=Object(o.g)(),g=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/forgot-password/".concat(f));case 3:u(!0),setTimeout((function(){v.push("/reset-password?email=".concat(encodeURIComponent(f)))}),3e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return i?Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Success"}),Object(h.jsx)("p",{children:"Check your email for a reset link"})]}):Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Forgot your Password"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Enter your email for a reset link"}),n&&Object(h.jsx)("div",{className:"fail",children:n}),Object(h.jsx)("input",{value:f,onChange:function(e){return x(e.target.value)},placeholder:"example@gmail.com"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{disabled:!f,onClick:g,children:"Send Reset Link"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return v.push("/login")},children:"Back to Log In"})})]})]})},N=function(){var e=x(),t=Object(b.a)(e,2)[1],n=Object(c.useState)(""),a=Object(b.a)(n,1)[0],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],u=s[1],O=Object(c.useState)(""),p=Object(b.a)(O,2),f=p[0],v=p[1],g=Object(c.useState)(""),m=Object(b.a)(g,2),w=m[0],S=m[1],y=k().token,C=Object(o.g)();Object(c.useEffect)((function(){y&&(t(y),C.push("/"))}),[y,t,C]),Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/auth/google/url");case 3:t=e.sent,n=t.data.url,S(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=function(){var e=Object(l.a)(j.a.mark((function e(){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/login",{email:i,password:f});case 2:n=e.sent,c=n.data.token,t(c),C.push("/");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Log In"}),Object(h.jsxs)("div",{children:[a&&Object(h.jsx)("div",{className:"fail",children:a}),Object(h.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)},placeholder:"example@gmail.com"}),Object(h.jsx)("input",{type:"password",value:f,onChange:function(e){return v(e.target.value)},placeholder:"password"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{disabled:!i||!f,onClick:N,children:"Log In"})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return C.push("/signup")},children:"Don't have an account? Sign Up"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{disabled:!w,onClick:function(){window.location.href=w},children:"Log in with Google"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return C.push("/forgot-password")},children:"Forgot your password?"})})]})]})},L=function(){var e=x(),t=Object(b.a)(e,1)[0],n=Object(c.useState)(""),a=Object(b.a)(n,1)[0],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],u=s[1],O=Object(c.useState)(""),p=Object(b.a)(O,2),f=p[0],v=p[1],g=Object(c.useState)(""),m=Object(b.a)(g,2),w=m[0],k=m[1],S=Object(o.g)(),y=function(){var e=Object(l.a)(j.a.mark((function e(){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/signup",{email:i,password:f});case 2:n=e.sent,c=n.data.token,t(c),S.push("/please-verify?email=".concat(encodeURIComponent(i)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Sign Up"}),Object(h.jsxs)("div",{children:[a&&Object(h.jsx)("div",{className:"fail",children:a}),Object(h.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)},placeholder:"example@gmail.com"}),Object(h.jsx)("input",{type:"password",value:f,onChange:function(e){return v(e.target.value)},placeholder:"password"}),Object(h.jsx)("input",{type:"password",value:w,onChange:function(e){return k(e.target.value)},placeholder:"password"}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{disabled:!i||!f||f!==w,onClick:y,children:"Sign Up"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return S.push("/login")},children:"Already have an account? Log In"})})]})]})},P=function(){var e=x(),t=Object(b.a)(e,1)[0],n=function(e){var t=e.split(".")[1];return JSON.parse(atob(t))},a=Object(c.useState)((function(){return t?n(t):null})),r=Object(b.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){i(t?n(t):null)}),[t]),s},I=function(){var e=P(),t=x(),n=Object(b.a)(t,2),a=n[0],r=n[1],s=e.id,i=e.email,u=e.isVerified,O=e.info,p=Object(o.g)(),f=Object(c.useState)(O.name||""),v=Object(b.a)(f,2),g=v[0],m=v[1],w=Object(c.useState)(O.bilds||""),k=Object(b.a)(w,2),S=k[0],y=k[1],C=Object(c.useState)(!1),N=Object(b.a)(C,2),L=N[0],I=N[1],U=Object(c.useState)(!1),E=Object(b.a)(U,2),R=E[0],A=E[1];Object(c.useEffect)((function(){(L||R)&&setTimeout((function(){I(!1),A(!1)}),3e3)}),[L,R]);var B=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/users/".concat(s),{name:g,bilds:S},{headers:{Authorization:"Bearer ".concat(a)}});case 3:t=e.sent,n=t.data.token,r(n),I(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),A(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsxs)("h1",{children:[" ",i]}),!u&&Object(h.jsx)("div",{className:"fail",children:"You won't be able to make any changes until you verify your email"}),L&&Object(h.jsx)("div",{className:"success",children:"Successfully saved user data!"}),R&&Object(h.jsx)("div",{className:"fail",children:"Uh oh... something went wrong and we couldn't save changes"}),Object(h.jsx)("h3",{children:"Create an ArtWalk"}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"ArtWalk title:"}),Object(h.jsx)("input",{onChange:function(e){return m(e.target.value)},value:g})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Bild:"}),Object(h.jsx)("input",{onChange:function(e){return y(e.target.value)},value:S})]}),Object(h.jsxs)("div",{className:"buttom",children:[Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){m(O.name),y(O.bilds)},children:"Reset Values"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:B,children:"Save Changes"})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){localStorage.removeItem("token"),p.push("/login")},children:"Log Out"})})]})]})},U=function(){var e=Object(o.g)();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Success!"}),Object(h.jsx)("p",{children:"Your password has been reset, now please login with your new password."}),Object(h.jsx)("button",{onClick:function(){return e.push("/login")},children:"Log in"})]})},E=function(){var e=Object(o.g)();return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Uh oh..."}),Object(h.jsx)("p",{children:"Something went wrong while trying to reset your password."}),Object(h.jsx)("button",{onClick:function(){return e.push("/login")},children:"Back to Log in"})]})},R=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),O=Object(b.a)(u,2),p=O[0],f=O[1],x=Object(c.useState)(""),v=Object(b.a)(x,2),g=v[0],m=v[1],w=Object(c.useState)(""),S=Object(b.a)(w,2),y=S[0],C=S[1],N=k().email,L=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/users/".concat(y,"/reset-password"),{email:N,newPassword:p});case 3:a(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return i?Object(h.jsx)(E,{}):n?Object(h.jsx)(U,{}):Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Reset Password"}),Object(h.jsx)("p",{children:"Please enter a new password"}),Object(h.jsx)("input",{value:y,onChange:function(e){return C(e.target.value)},placeholder:"Password Reset Code"}),Object(h.jsx)("input",{type:"password",value:p,onChange:function(e){return f(e.target.value)},placeholder:"Password"}),Object(h.jsx)("input",{type:"password",value:g,onChange:function(e){return m(e.target.value)},placeholder:"Confirm Password"}),Object(h.jsx)("button",{disabled:!p||!g||p!==g,onClick:L,children:"Reset Password"})]})},A=function(){var e=Object(o.g)(),t=k().email;return Object(c.useEffect)((function(){setTimeout((function(){e.push("/verify-email?email=".concat(encodeURIComponent(t)))}),3e3)}),[e,t]),Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h3",{children:"Thanks for Signing Up!"}),Object(h.jsx)("p",{children:"A verification email has been sent to the email address you provided. Please verify your email to unlock full site features."})]})},B=function(e){return P()?Object(h.jsx)(o.b,Object(g.a)({},e)):Object(h.jsx)(o.a,{to:"/login"})},T=n.p+"static/media/ArtWalk_Logo final_ww.317c96ce.png";var F=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:T,width:"270",alt:"Artwalk Inc. logo"})})},Y=function(){return Object(h.jsxs)(i.a,{children:[Object(h.jsx)("h2",{children:"Artwalk"}),Object(h.jsxs)(o.d,{children:[Object(h.jsx)(B,{path:"/",exact:!0,children:Object(h.jsx)(I,{})}),Object(h.jsx)(o.b,{path:"/verify-email",exact:!0,children:Object(h.jsx)(S,{})}),Object(h.jsx)(o.b,{path:"/verify-email/:verificationString",children:Object(h.jsx)(y,{})}),Object(h.jsx)(o.b,{path:"/forgot-password",children:Object(h.jsx)(C,{})}),Object(h.jsx)(o.b,{path:"/login",children:Object(h.jsx)(N,{})}),Object(h.jsx)(o.b,{path:"/reset-password",children:Object(h.jsx)(R,{})}),Object(h.jsx)(o.b,{path:"/please-verify",children:Object(h.jsx)(A,{})}),Object(h.jsx)(o.b,{path:"/signup",children:Object(h.jsx)(L,{})})]}),Object(h.jsx)(F,{})]})},J=function(){return Object(h.jsx)("div",{className:"page-container",children:Object(h.jsx)(Y,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root")),V()}},[[67,1,2]]]);
//# sourceMappingURL=main.7db33b47.chunk.js.map