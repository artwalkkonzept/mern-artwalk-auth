{"ast":null,"code":"import _regeneratorRuntime from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useHistory}from'react-router-dom';import axios from'axios';import{useToken}from'../auth/useToken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SignUpPage=function SignUpPage(){//const [token, setToken] = useToken();\nvar _useToken=useToken(),_useToken2=_slicedToArray(_useToken,1),setToken=_useToken2[0];//const [errorMessage, setErrorMessage] = useState('');\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,1),errorMessage=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailValue=_useState4[0],setEmailValue=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),passwordValue=_useState6[0],setPasswordValue=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPasswordValue=_useState8[0],setConfirmPasswordValue=_useState8[1];var history=useHistory();var onSignUpClicked=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/signup',{email:emailValue,password:passwordValue});case 2:response=_context.sent;token=response.data.token;setToken(token);history.push(\"/please-verify?email=\".concat(encodeURIComponent(emailValue)));case 6:case\"end\":return _context.stop();}}},_callee);}));return function onSignUpClicked(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{children:[errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"fail\",children:errorMessage}),/*#__PURE__*/_jsx(\"input\",{value:emailValue,onChange:function onChange(e){return setEmailValue(e.target.value);},placeholder:\"example@gmail.com\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordValue,onChange:function onChange(e){return setPasswordValue(e.target.value);},placeholder:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPasswordValue,onChange:function onChange(e){return setConfirmPasswordValue(e.target.value);},placeholder:\"password\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{disabled:!emailValue||!passwordValue||passwordValue!==confirmPasswordValue,onClick:onSignUpClicked,children:\"Sign Up\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.push('/login');},children:\"Already have an account? Log In\"})})]})]});};","map":{"version":3,"sources":["/Users/admin/Desktop/artwalkkonzept-auth-aws/artwalkkonzept-auth-aws-google_13.10.21/client/src/pages/SignUpPage.js"],"names":["useState","useHistory","axios","useToken","SignUpPage","setToken","errorMessage","emailValue","setEmailValue","passwordValue","setPasswordValue","confirmPasswordValue","setConfirmPasswordValue","history","onSignUpClicked","post","email","password","response","token","data","push","encodeURIComponent","e","target","value"],"mappings":"ugBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,wFAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC5B;AAD4B,cAERD,QAAQ,EAFA,wCAEpBE,QAFoB,eAI5B;AAJ4B,cAKLL,QAAQ,CAAC,EAAD,CALH,wCAKrBM,YALqB,8BAOQN,QAAQ,CAAC,EAAD,CAPhB,yCAOrBO,UAPqB,eAOTC,aAPS,8BAQcR,QAAQ,CAAC,EAAD,CARtB,yCAQrBS,aARqB,eAQNC,gBARM,8BAS4BV,QAAQ,CAAC,EAAD,CATpC,yCASrBW,oBATqB,eASCC,uBATD,eAW5B,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAEA,GAAMa,CAAAA,eAAe,0FAAG,4KACGZ,CAAAA,KAAK,CAACa,IAAN,CAAW,aAAX,CAA0B,CAC7CC,KAAK,CAAET,UADsC,CAE7CU,QAAQ,CAAER,aAFmC,CAA1B,CADH,QACdS,QADc,eAKZC,KALY,CAKFD,QAAQ,CAACE,IALP,CAKZD,KALY,CAMpBd,QAAQ,CAACc,KAAD,CAAR,CACAN,OAAO,CAACQ,IAAR,gCAAqCC,kBAAkB,CAACf,UAAD,CAAvD,GAPoB,sDAAH,kBAAfO,CAAAA,eAAe,0CAArB,CAUA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,+BADJ,cAEI,uBACCR,YAAY,eAAI,YAAK,SAAS,CAAC,MAAf,UAAuBA,YAAvB,EADjB,cAEA,cACI,KAAK,CAAEC,UADX,CAEI,QAAQ,CAAE,kBAAAgB,CAAC,QAAIf,CAAAA,aAAa,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAFf,CAGI,WAAW,CAAC,mBAHhB,EAFA,cAMA,cACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEhB,aAFX,CAGI,QAAQ,CAAE,kBAAAc,CAAC,QAAIb,CAAAA,gBAAgB,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EAHf,CAII,WAAW,CAAC,UAJhB,EANA,cAWA,cACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEd,oBAFX,CAGI,QAAQ,CAAE,kBAAAY,CAAC,QAAIX,CAAAA,uBAAuB,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAA3B,EAHf,CAII,WAAW,CAAC,UAJhB,EAXA,cAgBA,aAhBA,cAiBA,iCAAI,eACA,QAAQ,CACJ,CAAClB,UAAD,EAAe,CAACE,aAAhB,EACAA,aAAa,GAAKE,oBAHtB,CAKA,OAAO,CAAEG,eALT,qBAAJ,EAjBA,cAuBA,iCAAI,eAAQ,OAAO,CAAE,yBAAMD,CAAAA,OAAO,CAACQ,IAAR,CAAa,QAAb,CAAN,EAAjB,6CAAJ,EAvBA,GAFJ,GADJ,CA8BH,CArDM","sourcesContent":["import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\n\nexport const SignUpPage = () => {\n    //const [token, setToken] = useToken();\n    const [ setToken] = useToken();\n\n    //const [errorMessage, setErrorMessage] = useState('');\n    const [errorMessage] = useState('');\n\n    const [emailValue, setEmailValue] = useState('');\n    const [passwordValue, setPasswordValue] = useState('');\n    const [confirmPasswordValue, setConfirmPasswordValue] = useState('');\n\n    const history = useHistory();\n\n    const onSignUpClicked = async () => {\n        const response = await axios.post('/api/signup', {\n            email: emailValue,\n            password: passwordValue,\n        });\n        const { token } = response.data;\n        setToken(token);\n        history.push(`/please-verify?email=${encodeURIComponent(emailValue)}`);\n    }\n\n    return (\n        <div className=\"content-container\">\n            <h3>Sign Up</h3>\n            <div>\n            {errorMessage && <div className=\"fail\">{errorMessage}</div>}\n            <input\n                value={emailValue}\n                onChange={e => setEmailValue(e.target.value)}\n                placeholder=\"example@gmail.com\" />\n            <input\n                type=\"password\"\n                value={passwordValue}\n                onChange={e => setPasswordValue(e.target.value)}\n                placeholder=\"password\" />\n            <input\n                type=\"password\"\n                value={confirmPasswordValue}\n                onChange={e => setConfirmPasswordValue(e.target.value)}\n                placeholder=\"password\" />\n            <hr />\n            <li><button\n                disabled={\n                    !emailValue || !passwordValue ||\n                    passwordValue !== confirmPasswordValue\n                }\n                onClick={onSignUpClicked}>Sign Up</button></li>\n            <li><button onClick={() => history.push('/login')}>Already have an account? Log In</button></li>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}