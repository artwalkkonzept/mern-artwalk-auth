{"ast":null,"code":"import _regeneratorRuntime from\"/Users/admin/Desktop/mern-artwalk-auth-aws-google/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/admin/Desktop/mern-artwalk-auth-aws-google/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/admin/Desktop/mern-artwalk-auth-aws-google/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import axios from'axios';import{PasswordResetSuccess}from'./PasswordResetSuccess';import{PasswordResetFail}from'./PasswordResetFail';import{useQueryParams}from'../util/useQueryParams';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PasswordResetLandingPage=function PasswordResetLandingPage(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSuccess=_useState2[0],setIsSuccess=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFailure=_useState4[0],setIsFailure=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),passwordValue=_useState6[0],setPasswordValue=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPasswordValue=_useState8[0],setConfirmPasswordValue=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordResetCode=_useState10[0],setPasswordResetCode=_useState10[1];var _useQueryParams=useQueryParams(),email=_useQueryParams.email;var onResetClicked=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put(\"/api/users/\".concat(passwordResetCode,\"/reset-password\"),{email:email,newPassword:passwordValue});case 3:setIsSuccess(true);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setIsFailure(true);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function onResetClicked(){return _ref.apply(this,arguments);};}();if(isFailure)return/*#__PURE__*/_jsx(PasswordResetFail,{});if(isSuccess)return/*#__PURE__*/_jsx(PasswordResetSuccess,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please enter a new password\"}),/*#__PURE__*/_jsx(\"input\",{value:passwordResetCode,onChange:function onChange(e){return setPasswordResetCode(e.target.value);},placeholder:\"Password Reset Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordValue,onChange:function onChange(e){return setPasswordValue(e.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPasswordValue,onChange:function onChange(e){return setConfirmPasswordValue(e.target.value);},placeholder:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!passwordValue||!confirmPasswordValue||passwordValue!==confirmPasswordValue,onClick:onResetClicked,children:\"Reset Password\"})]});};","map":{"version":3,"sources":["/Users/admin/Desktop/mern-artwalk-auth-aws-google/client/src/pages/PasswordResetLandingPage.js"],"names":["useState","axios","PasswordResetSuccess","PasswordResetFail","useQueryParams","PasswordResetLandingPage","isSuccess","setIsSuccess","isFailure","setIsFailure","passwordValue","setPasswordValue","confirmPasswordValue","setConfirmPasswordValue","passwordResetCode","setPasswordResetCode","email","onResetClicked","put","newPassword","e","target","value"],"mappings":"8ZAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,oBAAT,KAAqC,wBAArC,CACA,OAASC,iBAAT,KAAkC,qBAAlC,CACA,OAASC,cAAT,KAA+B,wBAA/B,C,wFAEA,MAAO,IAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,eACRL,QAAQ,CAAC,KAAD,CADA,wCACnCM,SADmC,eACxBC,YADwB,8BAERP,QAAQ,CAAC,KAAD,CAFA,yCAEnCQ,SAFmC,eAExBC,YAFwB,8BAGAT,QAAQ,CAAC,EAAD,CAHR,yCAGnCU,aAHmC,eAGpBC,gBAHoB,8BAIcX,QAAQ,CAAC,EAAD,CAJtB,yCAInCY,oBAJmC,eAIbC,uBAJa,8BAKQb,QAAQ,CAAC,EAAD,CALhB,0CAKnCc,iBALmC,gBAKhBC,oBALgB,oCAMxBX,cAAc,EANU,CAMlCY,KANkC,iBAMlCA,KANkC,CAQ1C,GAAMC,CAAAA,cAAc,0FAAG,yKAEThB,CAAAA,KAAK,CAACiB,GAAN,sBAAwBJ,iBAAxB,oBAA4D,CAAEE,KAAK,CAALA,KAAF,CAASG,WAAW,CAAET,aAAtB,CAA5D,CAFS,QAGfH,YAAY,CAAC,IAAD,CAAZ,CAHe,8EAKfE,YAAY,CAAC,IAAD,CAAZ,CALe,mEAAH,kBAAdQ,CAAAA,cAAc,0CAApB,CASA,GAAIT,SAAJ,CAAe,mBAAO,KAAC,iBAAD,IAAP,CACf,GAAIF,SAAJ,CAAe,mBAAO,KAAC,oBAAD,IAAP,CAEf,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,sCADJ,cAEI,kDAFJ,cAGI,cACI,KAAK,CAAEQ,iBADX,CAEI,QAAQ,CAAE,kBAAAM,CAAC,QAAIL,CAAAA,oBAAoB,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxB,EAFf,CAGI,WAAW,CAAC,qBAHhB,EAHJ,cAOI,cACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEZ,aAFX,CAGI,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,CAAAA,gBAAgB,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EAHf,CAII,WAAW,CAAC,UAJhB,EAPJ,cAYI,cACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEV,oBAFX,CAGI,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,uBAAuB,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAA3B,EAHf,CAII,WAAW,CAAC,kBAJhB,EAZJ,cAiBI,eACI,QAAQ,CAAE,CAACZ,aAAD,EAAkB,CAACE,oBAAnB,EAA2CF,aAAa,GAAKE,oBAD3E,CAEI,OAAO,CAAEK,cAFb,4BAjBJ,GADJ,CAwBH,CA5CM","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { PasswordResetSuccess } from './PasswordResetSuccess';\nimport { PasswordResetFail } from './PasswordResetFail';\nimport { useQueryParams } from '../util/useQueryParams';\n\nexport const PasswordResetLandingPage = () => {\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [isFailure, setIsFailure] = useState(false);\n    const [passwordValue, setPasswordValue] = useState('');\n    const [confirmPasswordValue, setConfirmPasswordValue] = useState('');\n    const [passwordResetCode, setPasswordResetCode] = useState('');\n    const { email } = useQueryParams();\n\n    const onResetClicked = async () => {\n        try {\n            await axios.put(`/api/users/${passwordResetCode}/reset-password`, { email, newPassword: passwordValue });\n            setIsSuccess(true);\n        } catch (e) {\n            setIsFailure(true);\n        }\n    }\n\n    if (isFailure) return <PasswordResetFail />\n    if (isSuccess) return <PasswordResetSuccess />\n\n    return (\n        <div className=\"content-container\">\n            <h3>Reset Password</h3>\n            <p>Please enter a new password</p>\n            <input\n                value={passwordResetCode}\n                onChange={e => setPasswordResetCode(e.target.value)}\n                placeholder=\"Password Reset Code\" />\n            <input\n                type='password'\n                value={passwordValue}\n                onChange={e => setPasswordValue(e.target.value)}\n                placeholder=\"Password\" />\n            <input\n                type='password'\n                value={confirmPasswordValue}\n                onChange={e => setConfirmPasswordValue(e.target.value)}\n                placeholder=\"Confirm Password\" />\n            <button\n                disabled={!passwordValue || !confirmPasswordValue || passwordValue !== confirmPasswordValue}\n                onClick={onResetClicked}\n            >Reset Password</button>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}